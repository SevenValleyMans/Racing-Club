<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RacingClub365 - The Ultimate Online Racing Betting Simulation</title>
    
    <meta name="naver-site-verification" content="44602a4ce8faff32ab0869c449f8dada6adb304f">
    <meta name="google-site-verification" content="GhGj63W7kkc-78a0BTXjR-_TRE8ml771kQOtegBKhHs">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <meta name="description" content="Join RacingClub365 to place bets on winning cars, collect virtual assets, and dominate the leaderboard in the most thrilling online racing betting game!">
    <meta name="keywords" content="racing game, online betting, RacingClub365, virtual assets, betting simulation, online race game, adrenaline rush, racing bet game">

    <meta property="og:title" content="RacingClub365 - The Ultimate Racing Betting Game">
    <meta property="og:description" content="Place your bets, collect virtual assets, and race to the top! Experience the thrill of real-time racing and betting at RacingClub365.">
    <meta property="og:url" content="https://raicngclub365.netlify.app/">
    <meta property="og:image" content="https://raicngclub365.netlify.app/logo.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="RacingClub365 - The Ultimate Racing Betting Game">
    <meta name="twitter:description" content="Place your bets, collect virtual assets, and race to the top! Experience the thrill of real-time racing and betting at RacingClub365.">
    <meta name="twitter:image" content="https://raicngclub365.netlify.app/logo.png">

    <link rel="canonical" href="https://raicngclub365.netlify.app/">
    <title>RacingClub365</title>
    <style>
        /* Í∏∞Ï°¥ Ïä§ÌÉÄÏùº Ï†ÑÎ∂Ä ÎèôÏùº (ÏÇ≠Ï†ú, ÏàòÏ†ï X) */
        body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
    background-color:black; 
}

h1 {
    margin-top: 0;  
    color: #fff; 
}

.car-selection {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
    margin-bottom: 30px;
}

.car-selection img {
    width: 45px; 
    height: auto;
    cursor: pointer;
    transition: transform 0.2s, border 0.2s;
}

.car-selection img.selected {
    transform: scale(1.2); 
    box-shadow: 0 0 10px 5px #ffb703; 
}

.car-selection img:hover {
    transform: scale(1.1);
}

.car-selection img.selected {
    border: 3px solid #ffb703; 
    border-radius: 10px;
}

.race-track {
    position: relative;
    width: 500px;
    height: 300px;
    margin: 20px auto;
    background: url('track2.jpg') no-repeat center center;
    background-size: cover;
    overflow: hidden;
    border: 2px solid #333;
    border-radius: 15px;
}

.car {
    position: absolute;
    width: 25px; 
    height: auto;
    transition: transform 0.1s;
}

.result-message {
    margin-top: 20px;
    font-size: 32.4px; 
    color: #ffb703;
}

.ranking-container {
    position: absolute;
    top: 240px;
    right: 20px;
    color: #fff;
    font-size: 20.8px;
    text-align: left;
    background-color: rgba(0, 0, 0, 0.85);
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
    border: 2px solid #ffb703;
    width: 250px; 
    height: 410px;
}

.ranking-container h2 {
    font-size: 26px; 
    color: #ffb703;
    margin-bottom: 10px;
    font-family: 'Poppins', sans-serif; 
}

.ranking-container ol {
    margin: 0;
    padding: 0;
    list-style: none;
}

.ranking-container li {
    margin: 8px 0;
    font-size: 20.8px;
    color: #ccc;
    font-family: 'Poppins', sans-serif; 
}

.login-container {
    position: absolute;
    top: 350px;
    left: 20px;
    color: #fff;
    font-size: 18px;
    text-align: left;
    background-color: rgba(0, 0, 0, 0.85);
    padding: 20px;
    border-radius: 16px;
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
    border: 2px solid #ffb703;
    width: 250px;
}

.login-container h2 {
    font-size: 22px;
    color: #ffb703;
    margin-bottom: 10px;
}

.login-container label {
    display: block;
    margin: 10px 0 5px;
    font-size: 16px;
    color: #ccc;
}

.login-container input {
    width: 100%;
    padding: 8px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    font-size: 16px;
}

.login-container button {
    width: 100%;
    padding: 10px;
    background-color: #219ebc;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

.login-container button:hover {
    background-color: #023047;
}

.signin, .signup{
    font-size: 2em;
}

.googleLogin {
    text-align: center; 
    margin-top: 10px; 
}
  
.login-button {
    cursor: pointer;
    transition: transform 0.2s ease; 
}
  
.login-button:hover {
    content: url(hoverlogin.png); 
}

.googleLogin img {
    cursor: pointer;
}

.login-container form {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px; 
}

.text{
    text-align: center;
}
 
.bet-button {
    display: block;
    margin: 10px auto;
    padding: 10px 20px;
    background-color: #219ebc;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
}

.bet-button:hover {
    background-color: #023047;
}

.logo{
    position: absolute;
    left: 20px;
    width: 300px;
}

h2{
    color: white;
}

.rank-indicator {
    position: absolute;
    top: -10px;
    right: -10px;
    background-color: #ffb703;
    color: black;
    border-radius: 50%;
    width: 20px;
    height: 20px;
    display: none;
    justify-content: center;
    align-items: center;
    font-weight: bold;
    font-size: 12px;
}
    </style>
</head>
<body>
    <img src="logo.png" class="logo">
    <!-- Î°úÍ∑∏Ïù∏ ÏÑπÏÖò -->
    <div class="login-container">
        <div class="text">Login / Sign Up</div>
        <form>
            <div class="googleLogin">
                <img 
                  id="googleLogin" 
                  src="googlelogin.png" 
                  alt="Sign in with Google"
                  class="login-button"
                  style="width: 200px; cursor: pointer;"
                />
            </div>
        </form>

        <!-- Ï∂îÍ∞Ä: Î°úÍ∑∏Ïù∏ ÏÑ±Í≥µ Ïãú ÎãâÎÑ§ÏûÑ/Ïù¥Î©îÏùºÏùÑ ÌëúÏãúÌï† ÏòÅÏó≠ -->
        <div id="user-info" style="margin-top: 10px; color: white;"></div>
        <!-- Ïó¨Í∏∞ÍπåÏßÄ Ï∂îÍ∞Ä -->
    </div>

    <!-- Îû≠ÌÇπ ÏÑπÏÖò -->
    <div class="ranking-container">
        <h2>Ranking</h2>
        <ol id="ranking-list">
            <li>1. Player1 - 1500pts</li>
            <li>2. Player2 - 1400pts</li>
            <li>3. Player3 - 1300pts</li>
            <li>4. Player4 - 1200pts</li>
            <li>5. Player5 - 1100pts</li>
            <li>6. Player6 - 1000pts</li>
            <li>7. Player7 - 900pts</li>
            <li>8. Player8 - 800pts</li>
            <li>9. Player9 - 700pts</li>
            <li>10. Player10 - 600pts</li>
        </ol>
    </div>

    <!-- ÏÉÅÌÉú ÌëúÏãú ÏÑπÏÖò -->
    <div id="status-container" style="position: absolute; top: 20px; right: 20px; color: #fff; font-size: 28.8px; text-align: left; background-color: rgba(0, 0, 0, 0.85); padding: 20px; border-radius: 16px; box-shadow: 0 0 20px rgba(255, 255, 255, 0.4); border: 2px solid #ffb703;">
        <p style="font-size: 14px; margin: 10px 0 0 0; color: #ccc;">All cars have a winning probability of 25%.</p>
        <h2 style="margin: 0; font-size: 32.4px; color: #ffb703;">My Wallet</h2>
        <div id="banana-status" style="font-size: 28.8px;">üçå x1000</div>
    </div>

    <!-- Î∞∞ÌåÖ Ïª®ÌÖåÏù¥ÎÑà -->
    <div id="betting-container" class="betting-container">
        <h2>RacingClub365</h2>
        <button id="bet-on-top2" class="bet-button">Select 1st and 2nd place (Payout multiplier: 12x)</button>
        <button id="bet-on-top1" class="bet-button">Select 1st(Payout multiplier: 4x)</button>
    </div>

    <div id="betting-details" class="betting-details" style="display: none;">
        <div class="car-selection">
            <div style="position: relative;">
                <img src="greencar.png" alt="Green" id="greencar" />
                <span class="rank-indicator" style="display: none;"></span>
            </div>
            <div style="position: relative;">
                <img src="redcar.png" alt="Red" id="redcar" />
                <span class="rank-indicator" style="display: none;"></span>
            </div>
            <div style="position: relative;">
                <img src="yellowcar.png" alt="Yellow" id="yellowcar" />
                <span class="rank-indicator" style="display: none;"></span>
            </div>
            <div style="position: relative;">
                <img src="bluecar.png" alt="Blue" id="bluecar" />
                <span class="rank-indicator" style="display: none;"></span>
            </div>
        </div>
        <label for="banana-bet">Bet Amount</label>
        <input type="number" id="banana-bet" min="1" placeholder="Enter Amount" />
        <button id="confirm-bet" class="bet-button">Confirm Bet</button>
    </div>

    <!-- Î†àÏù¥Ïä§ Ìä∏Îûô Î∞è Í≤∞Í≥º ÏÑπÏÖò -->
    <div class="race-track" id="race-track"></div>
    <div class="result-message" id="result-message"></div>

    <!-- Firebase Î∞è Main Script (ÌïòÎÇòÏùò Ïä§ÌÅ¨Î¶ΩÌä∏Î°ú ÌÜµÌï©) -->
    <script type="module">
        /************************************
         *       Firebase Ï¥àÍ∏∞ ÏÑ§Ï†ï
         ************************************/
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-auth.js";
        import { 
            getFirestore, 
            doc, getDoc, setDoc, updateDoc,
            collection, query, orderBy, limit, getDocs 
        } from "https://www.gstatic.com/firebasejs/11.2.0/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDAQLkuMZ0w8byG2NbF96lW1n_zxUIS7z8",
            authDomain: "easylogin-a24ec.firebaseapp.com",
            projectId: "easylogin-a24ec",
            storageBucket: "easylogin-a24ec.firebasestorage.app",
            messagingSenderId: "267621975251",
            appId: "1:267621975251:web:a01f3432c1adb016b54026",
            measurementId: "G-S6D54RBB24"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth();
        const db = getFirestore(app);

        /************************************
         *        Ï†ÑÏó≠ Î≥ÄÏàò
         ************************************/
        let userId = null;           
        let bananaCount = 1000;      
        let selectedCars = [];       
        let payoutMultiplier = 1;    
        let topNFinish = 1;          
        let raceOver = false;

        /************************************
         *     DOM ÏöîÏÜå Ï∞∏Ï°∞
         ************************************/
        const googleLoginBtn   = document.getElementById('googleLogin');
        const bananaStatusElem = document.getElementById('banana-status');
        const bettingContainer = document.getElementById('betting-container');
        const bettingDetails   = document.getElementById('betting-details');
        const cars             = document.querySelectorAll('.car-selection img');
        const confirmBetButton = document.getElementById('confirm-bet');
        const bananaBetInput   = document.getElementById('banana-bet');
        const raceTrack        = document.getElementById('race-track');
        const resultMessage    = document.getElementById('result-message');

        const betOnTop2Button  = document.getElementById('bet-on-top2');
        const betOnTop1Button  = document.getElementById('bet-on-top1');

        /************************************
         *       Firestore Í¥ÄÎ†® Ìï®Ïàò
         ************************************/
        async function loadBananaCount(userId) {
            const userRef = doc(db, "users", userId);
            const userDoc = await getDoc(userRef);

            if (userDoc.exists()) {
                const data = userDoc.data();
                bananaCount = data.bananas; 
                updateBananaStatus();       
            } else {
                await setDoc(userRef, { bananas: 1000 });
                bananaCount = 1000;
                updateBananaStatus();
            }
        }

        async function setBananaCount(newValue) {
            bananaCount = newValue;
            if (userId) {
                const userRef = doc(db, "users", userId);
                await updateDoc(userRef, { bananas: bananaCount });
            }
            updateBananaStatus();
        }

        function updateBananaStatus() {
            bananaStatusElem.textContent = `üçå x${bananaCount}`;
        }

        /************************************
         *          Google Login
         ************************************/
        googleLoginBtn.addEventListener('click', async () => {
            const provider = new GoogleAuthProvider();
            try {
                const result = await signInWithPopup(auth, provider);
                const user = result.user;
                userId = user.uid;

                const userRef = doc(db, "users", userId);
                const docSnap = await getDoc(userRef);

                if (!docSnap.exists()) {
                    await setDoc(userRef, {
                        displayName: user.displayName || "NoName",
                        bananas: 1000
                    });
                } else {
                    await updateDoc(userRef, {
                        displayName: user.displayName || "NoName"
                    });
                }

                await loadBananaCount(userId);

                alert(`Welcom!, ${user.displayName}!`);

                const userInfoDiv = document.getElementById('user-info');
                userInfoDiv.innerHTML = `
                    <p>NickName: ${user.displayName}</p>
                    <p>Email: ${user.email}</p>
                `;

                loadRanking();

            } catch (error) {
                console.error("Error during Google Login:", error);
            }
        });

        /************************************
         *   Îû≠ÌÇπ Î∂àÎü¨Ïò§Í∏∞ (Firestore)
         ************************************/
        async function loadRanking() {
            try {
                const rankingQuery = query(
                    collection(db, "users"),
                    orderBy("bananas", "desc"),
                    limit(10)
                );
                const querySnapshot = await getDocs(rankingQuery);
                const rankingList = document.getElementById('ranking-list');
                rankingList.innerHTML = '';

                let rank = 1;
                querySnapshot.forEach((docSnap) => {
                    const data = docSnap.data();
                    const displayName = data.displayName || "NoName";
                    const bananas = data.bananas || 0;

                    const li = document.createElement('li');
                    li.textContent = `${rank}. ${displayName} - ${bananas}pts`;
                    
                    if (docSnap.id === userId) {
                        li.style.color = '#ffb703'; 
                        li.style.fontWeight = 'bold';
                    }
                    
                    rankingList.appendChild(li);
                    rank++;
                });
            } catch (error) {
                console.error("Failed to load ranking:", error);
            }
        }

        /************************************
         *       Î∞∞ÌåÖ ÏòµÏÖò Î≤ÑÌäº Ïù¥Î≤§Ìä∏
         ************************************/
        betOnTop2Button.addEventListener('click', () => handleBettingOption(12, 2));
        betOnTop1Button.addEventListener('click', () => handleBettingOption(4, 1));

        function handleBettingOption(multiplier, topN) {
            payoutMultiplier = multiplier;
            topNFinish = topN;

            bettingContainer.style.display = 'none';
            bettingDetails.style.display   = 'block';

            selectedCars = [];
            rankedCars = [];
            maxSelections = topN;
            cars.forEach(car => car.classList.remove('selected'));

            bananaBetInput.value = '';
        }

        let rankedCars = [];
        let maxSelections = 2; 

        cars.forEach(car => {
            car.addEventListener('click', () => {
                const rankIndicator = car.nextElementSibling;

                if (car.classList.contains('selected')) {
                    car.classList.remove('selected');
                    rankIndicator.style.display = 'none';
                    rankedCars = rankedCars.filter(selected => selected !== car);
                } else if (rankedCars.length < maxSelections) {
                    car.classList.add('selected');
                    rankIndicator.style.display = 'flex';
                    rankedCars.push(car);
                }

                rankedCars.forEach((selected, index) => {
                    const indicator = selected.nextElementSibling;
                    indicator.textContent = index + 1;
                });
            });
        });

        function initializeCarSelection() {
            cars.forEach(car => {
                car.addEventListener('click', () => {
                    if (selectedCars.includes(car.alt)) {
                        car.classList.remove('selected');
                        selectedCars = selectedCars.filter(c => c !== car.alt);
                    } else {
                        if (selectedCars.length < topNFinish) {
                            car.classList.add('selected');
                            selectedCars.push(car.alt);
                        } else {
                            alert(`You can only select up to ${topNFinish} car(s).`);
                        }
                    }
                });
            });
        }
        initializeCarSelection();

        /************************************
         *        Confirm Bet Î°úÏßÅ
         ************************************/
        confirmBetButton.addEventListener('click', async () => {
            const betAmount = parseInt(bananaBetInput.value, 10);

            if (!userId) {
                alert("Please log in with Google first!");
                return;
            }
            if (isNaN(betAmount) || betAmount <= 0) {
                alert("Please enter a valid betting amount!");
                return;
            }
            if (betAmount > bananaCount) {
                alert("You don't have enough bananas!");
                return;
            }
            if (selectedCars.length === 0) {
                alert("Please select a car!");
                return;
            }

            await setBananaCount(bananaCount - betAmount);
            alert(`Bet placed! You selected: ${selectedCars.join(', ')} with a bet of ${betAmount} bananas.`);

            startRace(betAmount);
        });

        /************************************
         *        Î†àÏù¥Ïä§ ÏãúÏûë (ÏàòÏ†ï Î∂ÄÎ∂Ñ)
         ************************************/
        function startRace(betAmount) {
            raceTrack.innerHTML = '';
            resultMessage.textContent = '';
            raceOver = false;

            // (1) ÌòÑÏû¨ Ìä∏ÎûôÏùò Ïã§Ï†ú ÌÅ¨Í∏∞
            const trackW = raceTrack.offsetWidth;   // Ïã§Ï†ú ÌëúÏãú Ìè≠
            const trackH = raceTrack.offsetHeight;  // Ïã§Ï†ú ÌëúÏãú ÎÜíÏù¥

            // (2) Ï§ëÏã¨Ï¢åÌëú = Ïã§Ï†ú ÎÑàÎπÑ/ÎÜíÏù¥Ïùò Ï†àÎ∞ò
            const centerX = trackW / 2;
            const centerY = trackH / 2;

            // (3) 500x300 Í∏∞Ï§ÄÏúºÎ°ú ÌñàÎçò radiusÎ•º ÎπÑÏú®Î°ú Ïä§ÏºÄÏùºÎßÅ
            //     (Ïòà: Î™®Î∞îÏùºÏóêÏÑú Ìä∏ÎûôÏù¥ 400x300Ïù¥Î©¥ scaleX=0.8, scaleY=1.0)
            const scaleX = trackW / 500;
            const scaleY = trackH / 300;

            // Í∏∞Ï°¥ Í≥†Ï†ïÍ∞í -> ÎπÑÏú® Í≥±
            const radiusXOffsets = [220 * scaleX, 200 * scaleX, 180 * scaleX, 160 * scaleX];
            const radiusYOffsets = [120 * scaleY, 110 * scaleY, 100 * scaleY, 90 * scaleY];

            const startAngle = 90;

            const speedPool = [
                { slowStart: true, startTime1: 1600, startTime2: 3000, speed: 1.3, resetSpeed: 0.9 },
                { slowStart: true, startTime1: 2000, startTime2: 3200, speed: 1.4, resetSpeed: 1.0 },
                { gradualIncrease: true, duration: 2000, startSpeed: 0.4, endSpeed: 1.0 },
                { gradualIncrease: true, duration: 2800, startSpeed: 0.7, endSpeed: 1.3 },
                { constant: true, speed: 0.8 },
                { constant: true, speed: 0.9 },
                { slowStart: true, startTime1: 1800, startTime2: 3000, speed: 1.25, resetSpeed: 0.9 },
                { gradualIncrease: true, duration: 2500, startSpeed: 1.4, endSpeed: 0.6 },
                { slowStart: true, startTime1: 1000, startTime2: 2000, speed: 1.4, resetSpeed: 0.6 },
                { slowStart: true, startTime1: 4100, speed: 2.3 }
            ];
            const assignedSpeeds = speedPool.sort(() => Math.random() - 0.5).slice(0, 4);

            const carsInRace = ['Green', 'Red', 'Yellow', 'Blue'].map((name, index) => {
                const car = document.createElement('img');
                car.src = `${name.toLowerCase()}car.png`;
                car.alt = name;
                car.className = 'car';

                // (4) Í∞Å Ï∞®Îüâ Î∞∞Ïπò: Ïä§ÏºÄÏùºÎêú radius Ï†ÅÏö©
                const x = centerX + radiusXOffsets[index] * Math.cos((startAngle * Math.PI) / 180) - 15;
                const y = centerY + radiusYOffsets[index] * Math.sin((startAngle * Math.PI) / 180) - 30;
                car.style.left = `${x}px`;
                car.style.top  = `${y}px`;

                raceTrack.appendChild(car);

                return {
                    element: car,
                    name,
                    angle: startAngle,
                    radiusX: radiusXOffsets[index],
                    radiusY: radiusYOffsets[index],
                    completedLaps: 0,
                    speed: assignedSpeeds[index],
                    elapsedTime: 0
                };
            });

            let finishOrder = [];
            const lapsToComplete = 1; 

            const interval = setInterval(() => {
                carsInRace.forEach(car => {
                    if (raceOver) return;

                    let currentSpeed;
                    car.elapsedTime += 16; // 60FPS

                    if (car.speed.gradualIncrease) {
                        const dur = car.speed.duration || 3000;
                        const progress = Math.min(car.elapsedTime / dur, 1);
                        currentSpeed = car.speed.startSpeed +
                            progress * (car.speed.endSpeed - car.speed.startSpeed);

                    } else if (car.speed.slowStart) {
                        const t1 = (car.speed.startTime1 !== undefined) ? car.speed.startTime1 : 2300;
                        const t2 = (car.speed.startTime2 !== undefined) ? car.speed.startTime2 : 4000;

                        if (car.elapsedTime >= t1) {
                            currentSpeed = car.speed.speed;
                            if (car.elapsedTime >= t2 && car.speed.resetSpeed) {
                                currentSpeed = car.speed.resetSpeed;
                            }
                        } else {
                            currentSpeed = 1;
                        }
                    } else if (car.speed.constant) {
                        currentSpeed = car.speed.speed;
                    } else {
                        currentSpeed = 1.5;
                    }

                    car.angle -= currentSpeed;

                    // (5) angleÏù¥ Ìïú Î∞îÌÄ¥ ÎèåÏïÑ -270 Ïù¥Ìïò ÎêòÎ©¥ Îû© ÏôÑÎ£å
                    if (car.angle <= -270) {
                        car.angle += 360;
                        car.completedLaps++;
                        if (!finishOrder.includes(car.name) && car.completedLaps === lapsToComplete) {
                            finishOrder.push(car.name);
                            if (finishOrder.length === topNFinish) {
                                clearInterval(interval);
                                raceOver = true;
                                determineResults(finishOrder, selectedCars, betAmount);
                            }
                        }
                    }

                    // (6) Í≥ÑÏÜçÌï¥ÏÑú scaleÎêú radiusX, radiusYÎ•º ÏÇ¨Ïö©
                    const radians = (car.angle * Math.PI) / 180;
                    const x = centerX + car.radiusX * Math.cos(radians) - 15;
                    const y = centerY + car.radiusY * Math.sin(radians) - 30;
                    car.element.style.left = `${x}px`;
                    car.element.style.top  = `${y}px`;
                    car.element.style.transform = `rotate(${car.angle}deg)`;
                });
            }, 16);
        }

        /************************************
         *        Í≤∞Í≥º ÌåêÏ†ï Î°úÏßÅ
         ************************************/
        function determineResults(finishOrder, selectedCars, betAmount) {
            if (topNFinish === 1) {
                if (finishOrder[0] === selectedCars[0]) {
                    const winnings = betAmount * payoutMultiplier; 
                    setBananaCount(bananaCount + winnings);
                    resultMessage.textContent =
                        `Congratulations! 1st place: ${finishOrder[0]} - Prediction Success! 
                         ${winnings} You have earned bananas!`;
                } else {
                    resultMessage.textContent = `Too bad! 1st place: ${finishOrder[0]}`;
                }
            } else if (topNFinish === 2) {
                const [predictedFirst, predictedSecond] = selectedCars;
                const firstPlaceCorrect = finishOrder[0] === predictedFirst;
                const secondPlaceCorrect = finishOrder[1] === predictedSecond;

                if (firstPlaceCorrect && secondPlaceCorrect) {
                    const winnings = betAmount * payoutMultiplier;
                    setBananaCount(bananaCount + winnings);
                    resultMessage.textContent = 
                        `Congratulations! 1st place: ${finishOrder[0]}, 2nd: ${finishOrder[1]} - Prediction Success!
                         ${winnings} You have earned bananas!`;
                } else {
                    resultMessage.textContent = 
                        `Too bad! 1st place: ${finishOrder[0]}, 2nd: ${finishOrder[1]}`;
                }
            }

            loadRanking();

            bettingDetails.style.display   = 'none';
            bettingContainer.style.display = 'block';
        }

        updateBananaStatus();
    </script>

    <!-- Î™®Î∞îÏùºÏö© ÎØ∏ÎîîÏñ¥ ÏøºÎ¶¨ (Ïù¥Ï†ÑÍ≥º ÎèôÏùº) -->
    <style>
    @media (max-width: 768px) {
        .logo {
            position: static !important;
            margin: 10px auto;
            display: block;
            max-width: 60%;
        }

        .login-container {
            position: static !important;
            margin: 10px auto;
            width: 90%;
            max-width: 400px;
            height: auto;
        }

        .ranking-container {
            position: static !important;
            margin: 10px auto;
            width: 90%;
            max-width: 400px;
            height: auto;
        }

        #status-container {
            position: static !important;
            margin: 10px auto;
            width: 90%;
            max-width: 400px;
            height: auto;
        }

        .race-track {
            width: 90% !important;  
            max-width: 500px;
            height: 300px !important; 
        }

        .result-message {
            font-size: 24px !important;
        }
    }
    </style>
</body>
</html>
